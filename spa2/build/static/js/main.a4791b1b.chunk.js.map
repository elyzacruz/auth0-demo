{"version":3,"sources":["logo.svg","assets/loading.svg","components/Loading.js","components/Logout.js","components/Profile.js","components/Nav.js","actionComponents/CallApi.js","App.js","index.js"],"names":["Loading","className","src","loading","alt","LogoutButton","logout","useAuth0","onClick","returnTo","withAuthenticationRequired","user","isAuthenticated","picture","name","email","onRedirecting","Navigation","Navbar","color","light","expand","Container","navbar","Logout","window","location","href","origin","getAccessTokenSilently","useState","userMetadata","setUserMetadata","apiRes","setApiRes","useEffect","a","domain","audience","scope","accessToken","userDetailsByIdUrl","sub","fetch","headers","Authorization","metadataResponse","json","userMetaData","response","responseData","console","log","message","getUserMetadata","JSON","stringify","history","createBrowserHistory","App","error","logo","exact","path","component","Profile","CallApi","ReactDOM","render","clientId","redirectUri","document","getElementById"],"mappings":"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","file":"static/js/main.a4791b1b.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/logo.6ce24c58.svg\";","export default __webpack_public_path__ + \"static/media/loading.330b7d99.svg\";","import React from \"react\";\nimport loading from \"../assets/loading.svg\";\n\nconst Loading = () => (\n  <div className=\"spinner\">\n    <img src={loading} alt=\"Loading\" />\n  </div>\n);\n\nexport default Loading;\n","import React from \"react\";\nimport { useAuth0 } from \"@auth0/auth0-react\";\n\nconst LogoutButton = () => {\n  const { logout } = useAuth0();\n\n  return (\n    <button onClick={() => logout({ returnTo: \"http://localhost:3000\" })}>\n      Log Out\n    </button>\n  );\n};\n\nexport default LogoutButton;","import React from \"react\";\n// import { Container, Row, Col } from \"reactstrap\";\n\n// import Highlight from \"../components/Highlight\";\nimport Loading from \"../components/Loading\";\nimport { useAuth0, withAuthenticationRequired } from \"@auth0/auth0-react\";\nimport LogoutButton from \"./Logout\";\n\nconst ProfileComponent = () => {\n  const { user, isAuthenticated } = useAuth0();\n\n  return (\n    <>\n    {isAuthenticated && (\n      <div>\n        <img src={user.picture} alt={user.name} />\n        <h2>{user.name}</h2>\n        <p>{user.email}</p>\n        {/* add button to redirect to spa2 */}\n      </div>\n    )}\n    </>\n  );\n};\n\nexport default withAuthenticationRequired(ProfileComponent, {\n    onRedirecting: () => <Loading />,\n  });","import React, { Fragment } from \"react\";\nimport { NavLink as RouterNavLink } from \"react-router-dom\";\nimport \"./Nav.css\";\nimport { useAuth0 } from \"@auth0/auth0-react\"; \nimport {\n  Collapse,\n  Container,\n  Navbar,\n  NavbarToggler,\n  NavbarBrand,\n  Nav,\n  NavItem,\n  NavLink,\n  Button,\n  UncontrolledDropdown,\n  DropdownToggle,\n  DropdownMenu,\n  DropdownItem,\n} from \"reactstrap\";\nimport LoginButton from \"./Login\";\nimport LogoutButton from \"./Logout\";\n\nconst Navigation = () => {\n  const { isAuthenticated } = useAuth0();\n  return (\n    <Navbar color=\"light\" light expand=\"md\">\n      <Container>\n        <Nav navbar>\n        {isAuthenticated && < LogoutButton />}\n        {isAuthenticated && (\n            <button\n            onClick={() => {\n              window.location.href=`${window.location.origin}/profile`\n            }}>\n              Profile\n          </button>\n        )}\n        {isAuthenticated && (\n            <button\n            onClick={() => {\n              window.location.href=`${window.location.origin}/callApi`\n            }}>\n              Call API\n          </button>\n        )}\n        </Nav>\n      </Container>\n    </Navbar>\n  );\n};\n\nexport default Navigation;\n","import React, { useEffect, useState } from \"react\";\nimport { useAuth0, withAuthenticationRequired } from \"@auth0/auth0-react\";\nimport Loading from \"../components/Loading\";\n\nconst CallApi = () => {\n  const { user, isAuthenticated, getAccessTokenSilently } = useAuth0();\n  const [userMetadata, setUserMetadata] = useState(null);\n  const [apiRes, setApiRes] = useState(null);\n\n  useEffect(() => {\n  const getUserMetadata = async () => {\n    const domain = \"whispir-tabs.au.auth0.com\";\n\n    try {\n      const accessToken = await getAccessTokenSilently({\n        audience: `https://${domain}/api/v2/`,\n        scope: \"read:current_user\",\n      });\n\n      const userDetailsByIdUrl = `https://${domain}/api/v2/users/${user.sub}`;\n\n      const metadataResponse = await fetch(userDetailsByIdUrl, {\n        headers: {\n          Authorization: `Bearer ${accessToken}`,\n        },\n      });\n\n      const userMetaData = await metadataResponse.json();\n\n      const response = await fetch(`http://localhost:3060/userData`, {\n        headers: {\n          Authorization: `Bearer ${accessToken}`,\n        },\n      });\n\n      const responseData = await response.json();\n\n      setUserMetadata(userMetaData);\n      setApiRes(responseData);\n    } catch (e) {\n      console.log(e.message);\n    }\n  };\n\n  getUserMetadata();\n}, [getAccessTokenSilently, user?.sub]);\n\n  return (\n    isAuthenticated && (\n      <div>\n        <h2>{user.name}</h2>\n        <p>{user.email}</p>\n        <h3>User Metadata</h3>\n        {userMetadata ? (\n          <pre>{JSON.stringify(userMetadata, null, 2)}</pre>\n        ) : (\n          \"No user metadata defined\"\n        )}\n        {apiRes ? (\n          <pre>{apiRes.message}</pre>\n        ) : (\n          \"No api res\"\n        )}\n      </div>\n    )\n  );\n};\n\nexport default withAuthenticationRequired(CallApi, {\n    onRedirecting: () => <Loading />,\n  });","import React from \"react\";\nimport { Router, Route, Switch, Redirect } from \"react-router-dom\";\nimport logo from './logo.svg';\nimport './App.css';\nimport LoginButton from './components/Login';\nimport { useAuth0 } from \"@auth0/auth0-react\";\nimport Profile from \"./components/Profile\";\nimport Home from \"./components/Home\";\nimport Nav from \"./components/Nav\";\nimport CallApi from \"./actionComponents/CallApi\";\n// import history from \"./utils/history\";\nimport { createBrowserHistory } from \"history\";\nconst history = createBrowserHistory();\n\nfunction App() {\n  const { error } = useAuth0();\n\n  if (error) {\n    console.error('Error', error);\n    return <div>Oops... {error.message}</div>;\n  }\n\n  return (\n    <Router history={history}>\n    <div className=\"App\">\n      <Nav />\n      <header className=\"App-header\">\n        <img src={logo} className=\"App-logo\" alt=\"logo\" />\n        <p>SPA 2</p>\n        <Switch>\n            <Route exact path=\"/\" component={Profile} />\n            <Route path=\"/profile\" component={Profile} />\n            <Route path=\"/callApi\" component={CallApi} />\n          </Switch>\n      </header>\n    </div>\n    </Router>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport { Auth0Provider } from \"@auth0/auth0-react\";\n\nReactDOM.render(\n    <Auth0Provider\n      domain=\"whispir-tabs.au.auth0.com\"\n      clientId=\"lgJOE63EZdBrzDBpMmqEGPpqGUFUqEIe\"\n      redirectUri={`${window.location.origin}`}\n      audience=\"https://whispir-tabs.au.auth0.com/api/v2/\"\n      scope=\"read:current_user\"\n    >\n      <App />\n    </Auth0Provider>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}